CREATE TABLE ADDRESS (
  ID      INT          NOT NULL GENERATED by default AS IDENTITY PRIMARY KEY,
  STREET  VARCHAR(255) NOT NULL,
  STREET2 VARCHAR(255),
  CITY    VARCHAR(255) NOT NULL,
  STATE   VARCHAR(2)   NOT NULL,
  ZIP     VARCHAR(10)  NOT NULL
);

CREATE TABLE DEPARTMENT (
  ID      INT          NOT NULL GENERATED by default AS IDENTITY PRIMARY KEY,
  NAME  VARCHAR(255)   NOT NULL
);

CREATE TABLE PASSPORT (
  ID               INT          NOT NULL GENERATED by default AS IDENTITY PRIMARY KEY,
  PASSPORT_NUMBER  VARCHAR(30)  NOT NULL,
  ISSUE_YEAR       INT          NOT NULL
);


CREATE TABLE BANK_ACCOUNT (
  ID               INT            NOT NULL GENERATED by default AS IDENTITY PRIMARY KEY,
  ACCOUNT_NUMBER   VARCHAR(30)    NOT NULL,
  BALANCE          NUMERIC(19, 2) NOT NULL DEFAULT 0.00

);

CREATE TABLE SOUL (
  ID                         INT          NOT NULL GENERATED by default AS IDENTITY PRIMARY KEY,
  SOULCIAL_SECURITY_NUMBER   VARCHAR(15)  NOT NULL
);


CREATE TABLE PROFILE (
  ID         INT          NOT NULL,
  SITE_URL  VARCHAR(100)  NOT NULL

);

CREATE TABLE USERS (
  ID              INT         NOT NULL GENERATED by default AS IDENTITY PRIMARY KEY,
  USERNAME        VARCHAR(15) NOT NULL CONSTRAINT users_username_UC UNIQUE,
  FIRSTNAME       VARCHAR(50) NOT NULL,
  LASTNAME        VARCHAR(50) NOT NULL,
  ACTIVE_SINCE    DATE,
  ADDRESS_ID      INT   CONSTRAINT USR_ADDR_FK REFERENCES ADDRESS,
  DEPARTMENT_ID   INT   CONSTRAINT USR_DEPT_FK REFERENCES DEPARTMENT,
  BANK_ACCOUNT_ID INT   CONSTRAINT USR_BANK_FK REFERENCES BANK_ACCOUNT,
  SOUL_ID         INT   CONSTRAINT USR_SOUL_FK REFERENCES SOUL,
  PASSPORT_ID     INT   CONSTRAINT USR_PASS_UC UNIQUE
                        CONSTRAINT USR_PASS_FK REFERENCES PASSPORT
);


CREATE TABLE CREDIT_CARD (
  ID               INT          NOT NULL PRIMARY KEY GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1) ,
  USER_ID          INT          CONSTRAINT CARD_USR_FK REFERENCES USERS,
  CARD_NUMBER      VARCHAR(30)  NOT NULL,
  EXPIRATION_DATE  DATE         NOT NULL
);

CREATE SEQUENCE credit_card_id_seq START WITH 1000 ;





CREATE TABLE PHONE (
  ID           INT          NOT NULL PRIMARY KEY GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1) ,
  USER_ID      INT          CONSTRAINT PHONE_USR_FK REFERENCES USERS,
  LABEL        VARCHAR(255) ,
  PHONE_NUMBER VARCHAR(255) NOT NULL
);



               
       